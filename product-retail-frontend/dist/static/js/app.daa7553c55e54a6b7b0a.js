webpackJsonp([1],{"1/oy":function(e,a){},Id91:function(e,a){},NHnr:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("7+uW"),r=t("e6fC"),n=t("Lgyv"),i=t.n(n),o=t("sUu7"),d={render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var l=t("VU/8")({name:"App"},d,!1,function(e){t("fMAV")},null,null).exports,c=t("/ocq"),u=t("Xxa5"),m=t.n(u),v=t("exGp"),p=t.n(v),f=t("mtWM"),_=t.n(f),w=function(){return _.a.create({baseURL:"https://productretailapi.herokuapp.com/",headers:{Authorization:localStorage.token}})},h=function(e){return w().post("sign_up",e)},g=function(e){return w().post("sign_in",e)},x={data:function(){return{user:{email:"",password:""}}},methods:{signIn:function(){var e=this;return p()(m.a.mark(function a(){var t,s;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t={username:e.user.email,password:e.user.password},a.next=4,g(t);case 4:s=a.sent,localStorage.token=s.data.token,e.$router.push({name:"departments"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0.response.data.message);case 12:case"end":return a.stop()}},a,e,[[0,9]])}))()}}},b={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("transition",{attrs:{name:"slide"}},[t("div",{staticClass:"sign"},[t("div",{staticClass:"container sign__form"},[t("div",{staticClass:"row justify-content-md-center"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-lg-4"},[t("div",{staticClass:"md-headline"},[e._v("ВХОД")]),e._v(" "),t("md-field",{class:{"md-invalid":e.errors.has("email")}},[t("label",[e._v("Email")]),e._v(" "),t("md-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"email","data-vv-name":"email"},model:{value:e.user.email,callback:function(a){e.$set(e.user,"email",a)},expression:"user.email"}})],1),e._v(" "),t("md-field",{class:{"md-invalid":e.errors.has("password")}},[t("label",[e._v("Пароль")]),e._v(" "),t("md-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"password",type:"password"},model:{value:e.user.password,callback:function(a){e.$set(e.user,"password",a)},expression:"user.password"}})],1),e._v(" "),t("md-button",{staticClass:"md-raised md-yellow",attrs:{disabled:e.errors.any()},on:{click:e.signIn}},[e._v("Войти")]),e._v(" "),t("router-link",{attrs:{to:"register"}},[t("div",{staticClass:"link"},[e._v("Создать аккаунт")])])],1)])])])])},staticRenderFns:[]};var k=t("VU/8")(x,b,!1,function(e){t("vIUO")},"data-v-44bd33f1",null).exports,C={data:function(){return{user:{email:"",password:"",password_confirmation:""}}},methods:{signUp:function(){var e=this;return p()(m.a.mark(function a(){var t;return m.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t={username:e.user.email,password:e.user.password},a.next=4,h(t);case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log(a.t0.response.data.message);case 9:case"end":return a.stop()}},a,e,[[0,6]])}))()}}},y={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("transition",{attrs:{name:"slide"}},[t("div",{staticClass:"sign"},[t("div",{staticClass:"container sign__form"},[t("div",{staticClass:"row justify-content-md-center"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-lg-4"},[t("div",{staticClass:"md-headline"},[e._v("РЕГИСТРАЦИЯ")]),e._v(" "),t("md-field",{class:{"md-invalid":e.errors.has("email")}},[t("label",[e._v("Email")]),e._v(" "),t("md-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{name:"email","data-vv-name":"email"},model:{value:e.user.email,callback:function(a){e.$set(e.user,"email",a)},expression:"user.email"}})],1),e._v(" "),t("md-field",{class:{"md-invalid":e.errors.has("password")}},[t("label",[e._v("Пароль")]),e._v(" "),t("md-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"password",type:"password"},model:{value:e.user.password,callback:function(a){e.$set(e.user,"password",a)},expression:"user.password"}})],1),e._v(" "),t("md-field",{class:{"md-invalid":e.errors.has("passwordConfirmation")}},[t("label",[e._v("Повторите пароль")]),e._v(" "),t("md-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|confirmed:password",expression:"'required|confirmed:password'"}],attrs:{name:"passwordConfirmation",type:"password"},model:{value:e.user.password_confirmation,callback:function(a){e.$set(e.user,"password_confirmation",a)},expression:"user.password_confirmation"}})],1),e._v(" "),t("md-button",{staticClass:"md-raised md-yellow",attrs:{disabled:e.errors.any()},on:{click:e.signUp}},[e._v("Создать аккаунт")]),e._v(" "),t("router-link",{attrs:{to:"login"}},[t("div",{staticClass:"link"},[e._v("Войти")])])],1)])])])])},staticRenderFns:[]};var q=t("VU/8")(C,y,!1,function(e){t("XRzq")},"data-v-195f5e0f",null).exports,U=function(){return w().get("department")},$={data:function(){return{departments:[]}},mounted:function(){var e=p()(m.a.mark(function e(){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U();case 3:a=e.sent,this.departments=a.data.responseData,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},E={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("transition",{attrs:{name:"slide"}},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},e._l(e.departments,function(a){return t("div",{key:a.id,staticClass:"col-xs-12 col-sm-3"},[t("md-card",{attrs:{"md-with-hover":""}},[t("md-ripple",[t("md-card-header",[t("div",{staticClass:"md-title"},[e._v(e._s(a.name))]),e._v(" "),t("div",{staticClass:"md-subhead"},[e._v(e._s(a.address))])]),e._v(" "),t("md-card-content",[a.warehouse?t("span",[e._v("Склад")]):t("span",[e._v("Магазин")])])],1)],1)],1)}))])])},staticRenderFns:[]};var N=t("VU/8")($,E,!1,function(e){t("WJW4")},"data-v-60044f16",null).exports;s.default.use(c.a);var R=new c.a({routes:[{path:"/",name:"departments",component:N,beforeEnter:function(e,a,t){void 0===localStorage.token?t("/login"):t()}},{path:"/login",name:"login",component:k,beforeEnter:function(e,a,t){void 0===localStorage.token?t():t("/")}},{path:"/register",name:"register",component:q,beforeEnter:function(e,a,t){void 0===localStorage.token?t():t("/")}}]}),A=t("9JMe"),S=t("NYxO");s.default.use(S.a);var V=new S.a.Store({state:{},mutations:{},actions:{}});s.default.config.productionTip=!1,s.default.use(r.a),s.default.use(i.a),s.default.use(o.a),Object(A.sync)(V,R),new s.default({el:"#app",router:R,store:V,components:{App:l},template:"<App/>"})},WJW4:function(e,a){},XRzq:function(e,a){},fMAV:function(e,a){},vIUO:function(e,a){},zj2Q:function(e,a){}},["NHnr"]);
//# sourceMappingURL=app.daa7553c55e54a6b7b0a.js.map